<!DOCTYPE>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>myMatrix</title>
    <link rel="stylesheet" href="styles/style.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="styles/formStyle.css" type="text/css" media="screen"/>
    <link rel="Stylesheet" href="css/sunny/jquery-ui-1.10.4.custom.css" type="text/css">

    <script language="javascript" src="js/GameList.js"></script>
    <script language="javascript" src="js/MatrixArea.js"></script>
    <script language="javascript" src="js/matrixCell.js"></script>
    <script language="javascript" src="js/GameParamSet.js"></script>
    <script language="javascript" src="js/Commands.js"></script>
    <script language="javascript" src="js/Snake.js"></script>
    <script language="javascript" src="js/Target.js"></script>
    <script language="javascript" src="js/InfoForm.js"></script>
    <script language="javascript" src="js/TotalRating.js"></script>
    <script language="javascript" src="js/SetupForm.js"></script>
    <script language="javascript" src="js/EnterForm.js"></script>
    <script language="javascript" src="js/StatisticFilter.js"></script>
    <script language="javascript" src="js/SelectForInput.js"></script>
    <script language="javascript" src="js/StatisticForm.js"></script>
    <script language="javascript" src="js/CalculateForm.js"></script>
    <script language="javascript" src="js/Timer.js"></script>
    <script language="javascript" src="js/GameSnake.js"></script>
    <script language="javascript" src="js/GameEvent.js"></script>
    <script language="javascript" src="lib/jquery-2.1.4.js"></script>
    <script language="javascript" src="js/start.js"></script>
    <script language="javascript" src="js/AjaxExecutor.js"></script>
    <script type="text/javascript" src="lib/jquery-ui-1.10.4.custom.js"></script>

</head>
<body>
<div id="gameRule">
    <strong> You may collect "stars" by pressing keys: left, up, right, down </strong>
</div>


<div id="enterDialog">

<label>
    <span class="label"> <strong> login: </strong> </span>
    <input type="text" id="login" class="field" value="">
</label> <br><br>
<label>
    <span class="label"> <strong> password: </strong> </span>
    <input type="password" id="password" class="field" >
</label> <br><br>
<div id="messageText">
    <p><strong>
        Для игры без сохранения результата нажмите "guest" или  "escape" <br>
        Иначе заполните поля login,password. <br>
        Если регистрировались ранее,то "enter"<br>
        Иначе "new name"
    </strong>
    </p>
</div>

</div>

<div id="calculateDialog" >

    <div id="calcGameIdBlock">
        <div style="display:inline-block; margin-left:-20px">
            <label>
                <span class="label"> <strong> gameId: </strong> </span>
                <input type="text" id="calc_gameId" readonly class="field">
            </label>&nbsp;&nbsp;
        </div>

    </div><br>


    <div id="calcBaseRatingBlock">
        <div style="display:inline-block; margin-left:-20px">
            <label>
                <span class="label"> <strong>base rating: </strong> </span>
                <input type="text" id="calc_baseExp" readonly class="field">
            </label>&nbsp;&nbsp;
            <label>
                <input type="text" id="calc_baseValue" readonly class="setup-field1">
            </label>
        </div>

    </div>
    <br>

    <div id="calcGameTimeBlock">
        <div style="display:inline-block; margin-left:-20px">
            <label>
                <span class="label"> <strong> game time(k1): </strong> </span>
                <input type="text" id="calc_gameTimeExp" readonly class="field">
            </label>&nbsp;&nbsp;
            <label>
                <input type="text" id="calc_gameTimeValue" readonly class="setup-field1">
            </label>
        </div>

    </div>
    <br>



    <div id="calcTargetsNumberBlock">
        <div style="display:inline-block; margin-left:-20px">
            <label>
                <span class="label"> <strong> targetsNumber(k2): </strong> </span>
                <input type="text" id="calc_targetsNumberExp" readonly class="field">
            </label> &nbsp;&nbsp;
            <label>
                <input type="text" id="calc_targetsNumberValue" readonly class="setup-field1">
            </label> &nbsp;&nbsp;
        </div>

    </div>
    <br>

    <div id="calcTargetLifetimeBlock">
        <div style="display:inline-block; margin-left:-20px">
            <label>
                <span class="label"> <strong> target lifetime(k3): </strong> </span>
                <input type="text" id="calc_targetLifetimeExp" readonly class="field">
            </label> &nbsp;&nbsp;
            <label>
                <input type="text" id="calc_targetLifetimeValue" readonly class="setup-field1">
            </label>
        </div>

    </div>
    <br>


    <div id="calcGameMatrixSizeBlock">
        <div style="display:inline-block; margin-left:-20px">
            <label>
                <span class="label"> <strong> matrix size(k4): </strong> </span>
                <input type="text" id="calc_matrixSizeExp" readonly class="field">
            </label> &nbsp;&nbsp;
            <label>
                <input type="text" id="calc_matrixSizeValue" readonly class="setup-field1">
            </label>
        </div>
    </div>
    <br>

    <div id="calcPointsBlock">
        <div style="display:inline-block; margin-left:-20px">
            <label>
                <span class="label"> <strong> points: </strong> </span>
                <input type="text" id="calc_pointsExp" readonly class="field" style="color:blue">
            </label>&nbsp;&nbsp;
            <label>
                <input type="text" id="calc_pointsValue" readonly class="field" style="color:blue">
            </label>&nbsp;&nbsp;
        </div>

    </div>



    <div id="calcTotalBlock">
        <div style="display:inline-block; margin-left:-20px">
            <label>
                <span class="label"> <strong> Total: </strong> </span>
                <input type="text" id="calc_totalExp" readonly class="field" style="color:blue">
            </label>&nbsp;&nbsp;
            <label>
                <input type="text" id="calc_totalValue" readonly class="field" style="color:blue">
            </label>&nbsp;&nbsp;
        </div>

    </div>























</div>


<div>


    <div id="infoPart">
        <div id="tabs">
            <ul>
                <li><a href="#infoForm">general</a></li>
                <li><a href="#gameSetup">Setup</a></li>
                <li><a href="#statSetup">statisticSetup</a></li>
                <li><a href="#about">about</a></li>
            </ul>


            <div id="infoForm">
                <label>
                    <span class="label"> <strong> Game Id: </strong> </span>
                    <input type="text" id="gameId" class="field" readonly>
                </label> <br><br>

                <div id="inputSelect-name">
                    <div>
                        <label>
                            <span class="label"><strong>Name: </strong></span>
                            <input type="text" id="gamerName" class="field" readonly="" value="">
                        </label>
                    </div>
                </div>
                <br>
                <span class="label"><strong> Time: </strong></span>

                <div>
                    <div id="currentTime" class="diagram" style="display: inline-block;">
                        <div id="timeMarker">
                            <span class="markerText">10</span>
                        </div>
                        <div style="display: inline-block;">
                            <input id="totalTime" type="text" class="gameAttr" readonly="" value="30 sec">
                        </div>
                    </div>
                </div>
                <br>

                <span class="label"><strong> Speed: </strong></span>

                <div>
                    <div id="currentSpeed" class="diagram" style="display: inline-block;">
                        <div id="speedMarker">
                            <span class="markerText">2steps</span>
                        </div>
                        <div style="display: inline-block;">
                            <input id="maxSpeed" type="text" class="gameAttr"  readonly="" value="10 steps/sec">
                        </div>
                    </div>

                </div>
                <br><br>

                <div>

                    <label>
                        <span class="label"> <strong> Points: </strong> </span>
                        <input type="text" id="points" class="field" readonly>
                    </label> &nbsp;&nbsp;


                    <label>
                         <strong> Total: </strong>
                        <input type="text" id="totalRating" class="field" readonly>
                    </label>


                </div>
                <br><br>

                <div id="gameCreator">
                    <button id="gameCreator-bt"><strong>CREATE NEW GAME</strong>
                    </button>
                    <button id="gameSave-bt"><strong>Save</strong>
                    </button>
                    <button id="gameStatistic-bt"><strong>Statistic</strong>
                    </button>

                </div>

            </div>





            <div id="statSetup">
                <!--    <h3>statistic parameters</h3><br> -->
                <label>
                    <span class="labelLong"> <strong> records number: </strong> </span>
                    <input  id="stat-recordsFilter">
                </label> <br><br>
                <label>
                    <span class="labelLong"> <strong> name filter: </strong> </span>
                    <input type="text" id="stat-nameFilter" class="field">
                </label> <br><br>
                <label>
                    <span class="labelLong"> <strong> points filter(>=): </strong> </span>
                    <input  id="stat-pointsFilter">
                </label> <br><br>

                <label>
                    <span class="labelLong"> <strong> total filter(>=): </strong> </span>
                    <input  id="stat-totalFilter">
                </label> <br><br>

                <button id="stat-gameStatistic-bt"><strong>Statistic</strong>
                </button>



            </div>


            <div id="gameSetup">
                <div id="gameTimeBlock">
                    <div style="display:inline-block; margin-left:-20px">
                        <label>
                            <span class="setup-label1"> <strong> game time: </strong> </span>
                            <input type="text" id="game-gameTime" readonly class="setup-field1">
                        </label>
                    </div>
                    <div id="slider-gameTime" class="setup-slider"></div>
                </div>
                <br>


                <div id="maxSpeedBlock">
                    <div style="display:inline-block; margin-left:-20px">
                        <label>
                            <span class="setup-label1"> <strong> max speed: </strong> </span>
                            <input type="text" id="game-maxSpeed" readonly class="setup-field1">
                        </label>
                    </div>
                    <div id="slider-maxSpeed" class="setup-slider"></div>
                </div>
                <br>

                <div id="targetsNumberBlock">
                    <div style="display:inline-block; margin-left:-20px">
                        <label>
                            <span class="setup-label1"> <strong> targetsNumber: </strong> </span>
                            <input type="text" id="game-targetsNumber" readonly class="setup-field1">
                        </label>
                    </div>
                    <div id="slider-targetsNumber" class="setup-slider"></div>
                </div>
                <br>

                <div id="targetLifetimeBlock">
                    <div style="display:inline-block; margin-left:-20px">
                        <label>
                            <span class="setup-label1"> <strong> target lifetime: </strong> </span>
                            <input type="text" id="game-targetLifetime" readonly class="setup-field1">
                        </label>
                    </div>
                    <div id="slider-targetLifetime" class="setup-slider"></div>
                </div>
                <br>


                <div id="gameMatrixSizeBlock">
                    <div style="display:inline-block; margin-left:-20px">
                        <label>
                            <span class="setup-label1"> <strong> matrix size: </strong> </span>
                            <input type="text" id="game-matrixSize" readonly class="setup-field1">
                        </label>
                    </div>
                    <div id="slider-matrixSize" class="setup-slider"></div>
                </div>
                <br>

                <div id="gameCellSizeBlock">
                    <div style="display:inline-block; margin-left:-20px">
                        <label>
                            <span class="setup-label1"> <strong> cell size: </strong> </span>
                            <input type="text" id="game-cellSize" readonly class="setup-field1">
                        </label>
                    </div>
                    <div id="slider-cellSize" class="setup-slider"></div>
                </div>
                <br>


            </div>




            <div id="about">
                <h3><a href="#">Игра</a> </h3>
                <div>
                    <p>
                         Традиционная "змейка" с расширенными возможностями.
                    </p>
                </div>
                <h3><a href="#">Регистрация</a> </h3>
                <div>
                    <p>
                        Регистрация нужна только для сохранения результатов игры.
                    </p>
                </div>
                <h3><a href="#">Правила</a> </h3>
                <div>
                    <p>
                        Змейка перемещается по игровому полю с определенной скоростью.
                        Клавишами или кнопками можно изменить направление движения (left,
                        up,right,down).  Два дополнительных движения : левый разворот(alt+left) и
                        правый разворот (alt+right).
                        alt+X разгоняет змейку до установленной max скорости.
                        alt+Y замедляет змейку.
                        На игровом поле появляются "звёздочки" (их количество и время жизни регулируется
                        настройками). Змейка "уткнувшись" головой в звездочку поглощает её. После поглощения
                        звёздочка добавляется в хвост змейки. За каждую звездочку к результату добавляется
                        10 очков. Чем больше звёздочек змейка под вашим руководством захватит,
                        тем лучше ваш результат. Если вы зарегистрированы, то можете результат сохранить.
                    </p>
                </div>
                <h3><a href="#">Крайние положения</a> </h3>
                <div>
                    <p>
                        <ul>
                        <li>
                    "Упёршись" в край змейка делает разворот. Направление разворота выбирается случайным
                        образом.
                        </li>
                    <li>
                        Возможна ситуация, когда поглотив большое количество звёздочек, и тем самым
                        увеличив длину своего хвоста, змейка свернётся клубком, упершись головой в
                        своё тело. В этом случае происходит "отрубание хвоста". То есть тело змейки
                        сокращается, начиная с хвоста до тех пор пока не появится проход для головы.
                        При этом количество набранных очков уменьшается на количество потерянных звеньев.
                    </li>
                        </ul>
                    </p>
                </div>

                <h3><a href="#">Общая оценка</a> </h3>
                <div>
                    <p>
                     Игра предназначена прежде всего для получения удовольствия(разрядки) игрока.
                     Используя настройки, можно подобрать наиболее интересные условия игры( размер поля,
                     число и время жизни целей, мах скорость перемещения змейки). Если вы зарегистрированы и
                     сохраняете результаты игры, то стоит задача как-то это все сравнить.<br>
                        Для такого сравнения вводится следующее правило:
                        <ul>
                     <li>
                         За 100 баллов принимается следующий результат:
                         <ul>
                             <li>
                                  Время игры: 30 sec
                             </li>
                             <li>
                                 поле: 20 * 20
                             </li>
                             <li>
                                 набранных очков: 50
                             </li>
                             <li>
                                 количество целей: 1
                             </li>
                             <li>
                                 Время жизни цели: 30 sec(это вечность)
                             </li>
                         </ul>
                     </li>
                     <li>
                           Реальный результат расчитывается по следующей формуле:  <br>
                            100 * kTime * kTargets * kLifetime * kSize * kPoints , где <br>
                            <ul>
                                <li>
                                    kTime = 30/T , где  T - время игры
                                </li>
                                <li>
                                    kTargets: 1/nTargets  ,  где nTargets - количество целей
                                </li>
                                <li>
                                    kLifetime: (1 + 0.5 * 3/realLifetime)  , где realLifetime - выбранное время жизни целей
                                </li>
                                <li>
                                    kSize:(0.96 + .002*realSize) , где realSize - выбранный размер игрового поля
                                </li>
                                <li>
                                    kPoints: points/50 , где points - набранные очки
                                </li>
                            </ul>

                     </li>
                      <li>
                          В качестве примера возьмём следующие условия: поле: 30 * 30 ; время игры: 60  sec ;
                          количество целей: 3; время жизни целей: 6 sec; количество очков: 200 .<br>
                          Тогда суммарная оценка будет:<br>
                          100 * (.96 + .002*30) * 30/60 * 1/3 * (1 + 0,5*(3/6))*200/50 = 170 баллов
                      </li>
                </ul>
                    </p>
                </div>
                <h3><a href="#">Настройки</a> </h3>
                <div>
                    <p>
                        <ul>
                        <li>
                            Закладка Setup -  общие настройки игры. С помощью ползунков подбирайте
                            наиболее интересный для вас вариант игры.<br>
                            Замечание.При выборе скорости задаётся Max возможная скорость передвижения змейки.
                            Что бы её достичь, во время игры используйте alt+X (ускорение) или
                            alt+Y (замедление) .
                        </li>
                    <li>
                        Закладка Statistic filter - позволяет задать параметры для просмотра статистики.
                    </li>
                </ul>
                    </p>
                </div>




            </div>






            <div id="statistic"></div>
        </div>
    </div>
    <div id="matrixAll"></div>
</div>


</body>
</html>